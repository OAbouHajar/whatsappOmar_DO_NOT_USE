package X;

import com.facebook.redex.RunnableRunnableShape10S0100000_I0_9;
import com.whatsapp.util.Log;
import java.io.File;
import java.util.concurrent.atomic.AtomicReference;

/* renamed from: X.1er  reason: invalid class name and case insensitive filesystem */
public class C31681er extends C30711cp {
    public long A00;
    public C38141qJ A01;
    public AnonymousClass2A0 A02;
    public File A03;
    public String A04;
    public AtomicReference A05 = new AtomicReference((Object) null);
    public boolean A06;
    public final C16300so A07;
    public final C16180sb A08;
    public final C14870pt A09;
    public final AnonymousClass01Z A0A;
    public final C15900s5 A0B;
    public final C17130ua A0C;
    public final AnonymousClass1XS A0D;
    public final AnonymousClass1XS A0E;
    public final AnonymousClass1XS A0F;
    public final AnonymousClass1XS A0G;
    public final AnonymousClass1XS A0H;
    public final C16440t3 A0I;
    public final C16980tz A0J;
    public final AnonymousClass5PT A0K;
    public final C43101zL A0L;
    public final C16480t8 A0M;
    public final AnonymousClass17J A0N;
    public final C14710pd A0O;
    public final C20330zs A0P;
    public final C17680vT A0Q;
    public final AnonymousClass1AO A0R;
    public final AnonymousClass1QV A0S;
    public final C215514n A0T;
    public final C31771f0 A0U;
    public final AnonymousClass4MQ A0V;
    public final C31761ez A0W;
    public final AnonymousClass21E A0X;
    public final AnonymousClass1QU A0Y;
    public final AnonymousClass1QX A0Z;
    public final AnonymousClass1QW A0a;
    public final C456729z A0b;
    public final C17020u3 A0c;
    public final C38221qR A0d;
    public final C19040xf A0e;
    public final C16320sq A0f;
    public final boolean A0g;
    public volatile long A0h;
    public volatile boolean A0i;

    /* JADX WARNING: Code restructure failed: missing block: B:13:0x011f, code lost:
        if (r3.A02 <= 52428800) goto L_0x0121;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public C31681er(X.C16300so r16, X.C16180sb r17, X.C14870pt r18, X.AnonymousClass01Z r19, X.C15900s5 r20, X.C17130ua r21, X.C16440t3 r22, X.C16980tz r23, X.C16480t8 r24, X.AnonymousClass17J r25, X.C14710pd r26, X.C17690vU r27, X.C20330zs r28, X.C17680vT r29, X.AnonymousClass1AO r30, X.AnonymousClass1QV r31, X.C215514n r32, X.C31771f0 r33, X.AnonymousClass1QU r34, X.AnonymousClass1QX r35, X.AnonymousClass1QW r36, X.C17020u3 r37, X.C19040xf r38, X.C16320sq r39) {
        /*
            r15 = this;
            X.29z r3 = new X.29z
            r0 = r27
            r8 = r28
            r3.<init>(r0, r8)
            r15.<init>()
            r1 = 0
            java.util.concurrent.atomic.AtomicReference r0 = new java.util.concurrent.atomic.AtomicReference
            r0.<init>(r1)
            r15.A05 = r0
            X.1XS r5 = new X.1XS
            r5.<init>()
            r15.A0D = r5
            X.1XS r0 = new X.1XS
            r0.<init>()
            r15.A0G = r0
            X.1XS r0 = new X.1XS
            r0.<init>()
            r15.A0H = r0
            X.1XS r0 = new X.1XS
            r0.<init>()
            r15.A0F = r0
            X.1XS r0 = new X.1XS
            r0.<init>()
            r15.A0E = r0
            r1 = 1
            com.facebook.redex.IDxRObservableShape442S0100000_1_I0 r0 = new com.facebook.redex.IDxRObservableShape442S0100000_1_I0
            r0.<init>(r15, r1)
            r15.A0d = r0
            r0 = r23
            r15.A0J = r0
            r7 = r22
            r15.A0I = r7
            r4 = r26
            r15.A0O = r4
            r2 = r18
            r15.A09 = r2
            r0 = r16
            r15.A07 = r0
            r0 = r39
            r15.A0f = r0
            r0 = r17
            r15.A08 = r0
            r0 = r21
            r15.A0C = r0
            r0 = r20
            r15.A0B = r0
            r10 = r38
            r15.A0e = r10
            r0 = r30
            r15.A0R = r0
            r0 = r32
            r15.A0T = r0
            r1 = r35
            r15.A0Z = r1
            r6 = r24
            r15.A0M = r6
            r0 = r36
            r15.A0a = r0
            r0 = r34
            r15.A0Y = r0
            r0 = r25
            r15.A0N = r0
            r0 = r31
            r15.A0S = r0
            r0 = r29
            r15.A0Q = r0
            r15.A0P = r8
            r0 = r37
            r15.A0c = r0
            r0 = r19
            r15.A0A = r0
            r9 = r33
            X.21E r0 = r9.A04
            r15.A0X = r0
            r15.A0U = r9
            r15.A0b = r3
            X.1ez r8 = new X.1ez
            r8.<init>()
            r15.A0W = r8
            monitor-enter(r8)
            X.1qS r3 = r9.A02     // Catch:{ all -> 0x0125 }
            X.1XM r0 = r3.A03     // Catch:{ all -> 0x0125 }
            r8.A00 = r0     // Catch:{ all -> 0x0125 }
            java.lang.String r0 = r3.A08     // Catch:{ all -> 0x0125 }
            r8.A09 = r0     // Catch:{ all -> 0x0125 }
            java.lang.String r0 = r3.A07     // Catch:{ all -> 0x0125 }
            r8.A08 = r0     // Catch:{ all -> 0x0125 }
            X.21D r0 = r3.A04     // Catch:{ all -> 0x0125 }
            r8.A01 = r0     // Catch:{ all -> 0x0125 }
            monitor-exit(r8)
            X.1zL r0 = r9.A00
            r15.A0L = r0
            X.5PT r0 = r0.AD0()
            r15.A0K = r0
            X.4MQ r0 = new X.4MQ
            r0.<init>(r7, r6, r4, r1)
            r15.A0V = r0
            r1 = 20
            com.facebook.redex.IDxNConsumerShape153S0100000_2_I0 r0 = new com.facebook.redex.IDxNConsumerShape153S0100000_2_I0
            r0.<init>(r15, r1)
            java.util.concurrent.Executor r2 = r2.A06
            r15.A01(r0, r2)
            r0 = 21
            com.facebook.redex.IDxNConsumerShape153S0100000_2_I0 r1 = new com.facebook.redex.IDxNConsumerShape153S0100000_2_I0
            r1.<init>(r15, r0)
            X.1XS r0 = r15.A00
            r0.A03(r1, r2)
            java.lang.Boolean r0 = java.lang.Boolean.TRUE
            r5.A04(r0)
            X.1f0 r0 = r15.A0U
            X.1qS r0 = r0.A02
            X.1XK r0 = r0.A05
            java.lang.String r11 = r0.A02
            r12 = 0
            r14 = 0
            X.0pd r2 = r10.A09
            r0 = 15
            X.0tM r1 = X.C16620tM.A02
            boolean r0 = r2.A0E(r1, r0)
            if (r0 != 0) goto L_0x0109
            X.0sq r0 = r10.A0F
            X.1qP r9 = new X.1qP
            r13 = r12
            r9.<init>(r10, r11, r12, r13, r14)
            r0.Acl(r9)
        L_0x0109:
            r0 = 487(0x1e7, float:6.82E-43)
            boolean r0 = r4.A0E(r1, r0)
            if (r0 == 0) goto L_0x0121
            X.1XK r1 = r3.A05
            X.1XK r0 = X.AnonymousClass1XK.A08
            if (r1 != r0) goto L_0x0121
            long r4 = r3.A02
            r2 = 52428800(0x3200000, double:2.5903269E-316)
            int r1 = (r4 > r2 ? 1 : (r4 == r2 ? 0 : -1))
            r0 = 1
            if (r1 > 0) goto L_0x0122
        L_0x0121:
            r0 = 0
        L_0x0122:
            r15.A0g = r0
            return
        L_0x0125:
            r0 = move-exception
            monitor-exit(r8)
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C31681er.<init>(X.0so, X.0sb, X.0pt, X.01Z, X.0s5, X.0ua, X.0t3, X.0tz, X.0t8, X.17J, X.0pd, X.0vU, X.0zs, X.0vT, X.1AO, X.1QV, X.14n, X.1f0, X.1QU, X.1QX, X.1QW, X.0u3, X.0xf, X.0sq):void");
    }

    public void A04() {
        super.A04();
        this.A0D.A01();
        this.A0G.A01();
        this.A0H.A01();
        this.A0F.A01();
        this.A0E.A01();
    }

    public C31771f0 A07() {
        return this.A0U;
    }

    public final C85194Nm A08(C38141qJ r11, AnonymousClass2A0 r12, String str) {
        AnonymousClass1QW r0 = this.A0a;
        AnonymousClass1AO r4 = r0.A03;
        C614438x r02 = new C614438x(r0.A00, r0.A01, r0.A02, r4, r11, r12, str);
        C87264Wb A002 = r02.A00();
        AnonymousClass21K r42 = r02.A05;
        C798841s r3 = A002.A02;
        if (r3 == null || r3 == C798841s.FAILURE) {
            StringBuilder sb = new StringBuilder("mediaupload/the resume request and the fallback mms resume request failed; request=");
            sb.append(this.A0U);
            Log.i(sb.toString());
            return new C85194Nm(r42, (String) null, (String) null, 17, 0, false);
        } else if (r3 == C798841s.COMPLETE) {
            StringBuilder sb2 = new StringBuilder("mediaupload/object already existed on media server; upload ending; request=");
            sb2.append(this.A0U);
            Log.i(sb2.toString());
            return new C85194Nm(r42, A002.A03, A002.A05, 0, 0, true);
        } else if (r3 == C798841s.RESUME) {
            StringBuilder sb3 = new StringBuilder("mediaupload/resume from ");
            sb3.append(A002.A01);
            sb3.append("; request=");
            sb3.append(this.A0U);
            Log.i(sb3.toString());
            return new C85194Nm(r42, (String) null, (String) null, 0, A002.A01, false);
        } else {
            StringBuilder sb4 = new StringBuilder("unhandled result type in checkForResumePoint, type=");
            sb4.append(r3);
            throw new IllegalStateException(sb4.toString());
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:22:0x0041, code lost:
        r1 = move-exception;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:23:0x0042, code lost:
        com.whatsapp.util.Log.w("MMS upload unable to get video meta", r1);
     */
    /* JADX WARNING: Code restructure failed: missing block: B:24:?, code lost:
        return;
     */
    /* JADX WARNING: Exception block dominator not found, dom blocks: [] */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void A09() {
        /*
            r3 = this;
            X.1f0 r0 = r3.A0U
            X.1qS r1 = r0.A02
            X.1XK r0 = r1.A05
            boolean r0 = X.C31831f6.A03(r0)
            if (r0 == 0) goto L_0x0047
            java.io.File r0 = r1.A06     // Catch:{ 1xB -> 0x0041 }
            X.AnonymousClass00B.A06(r0)     // Catch:{ 1xB -> 0x0041 }
            X.1xA r1 = new X.1xA     // Catch:{ 1xB -> 0x0041 }
            r1.<init>(r0)     // Catch:{ 1xB -> 0x0041 }
            boolean r0 = r1.A02()     // Catch:{ 1xB -> 0x0041 }
            if (r0 == 0) goto L_0x002d
            int r2 = r1.A01     // Catch:{ 1xB -> 0x0041 }
        L_0x001e:
            boolean r0 = r1.A02()     // Catch:{ 1xB -> 0x0041 }
            if (r0 == 0) goto L_0x002a
            int r0 = r1.A03     // Catch:{ 1xB -> 0x0041 }
        L_0x0026:
            X.1ez r1 = r3.A0W     // Catch:{ 1xB -> 0x0041 }
            monitor-enter(r1)     // Catch:{ 1xB -> 0x0041 }
            goto L_0x0030
        L_0x002a:
            int r0 = r1.A01     // Catch:{ 1xB -> 0x0041 }
            goto L_0x0026
        L_0x002d:
            int r2 = r1.A03     // Catch:{ 1xB -> 0x0041 }
            goto L_0x001e
        L_0x0030:
            java.lang.Integer r0 = java.lang.Integer.valueOf(r0)     // Catch:{ all -> 0x003e }
            r1.A03 = r0     // Catch:{ all -> 0x003e }
            java.lang.Integer r0 = java.lang.Integer.valueOf(r2)     // Catch:{ all -> 0x003e }
            r1.A04 = r0     // Catch:{ all -> 0x003e }
            monitor-exit(r1)     // Catch:{ 1xB -> 0x0041 }
            return
        L_0x003e:
            r0 = move-exception
            monitor-exit(r1)     // Catch:{ 1xB -> 0x0041 }
            throw r0     // Catch:{ 1xB -> 0x0041 }
        L_0x0041:
            r1 = move-exception
            java.lang.String r0 = "MMS upload unable to get video meta"
            com.whatsapp.util.Log.w(r0, r1)
        L_0x0047:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C31681er.A09():void");
    }

    /* JADX WARNING: Code restructure failed: missing block: B:14:0x0050, code lost:
        if (r3 != 0) goto L_0x0052;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void A0A(long r6) {
        /*
            r5 = this;
            long r1 = r5.A0h
            int r0 = (r6 > r1 ? 1 : (r6 == r1 ? 0 : -1))
            if (r0 <= 0) goto L_0x0019
            X.0ua r4 = r5.A0C
            long r0 = r5.A0h
            long r2 = r6 - r0
            X.1f0 r0 = r5.A0U
            X.1XJ r0 = r0.A03
            boolean r1 = r0.A01
            r0 = 0
            if (r1 == 0) goto L_0x0016
            r0 = 4
        L_0x0016:
            r4.A04(r2, r0)
        L_0x0019:
            r5.A0h = r6
            X.21E r2 = r5.A0X
            long r0 = r5.A0h
            java.lang.Long r0 = java.lang.Long.valueOf(r0)
            r2.A08 = r0
            java.util.concurrent.FutureTask r0 = r5.A02
            boolean r0 = r0.isCancelled()
            if (r0 != 0) goto L_0x0061
            X.1f0 r1 = r5.A0U
            boolean r0 = r1 instanceof X.C43171zS
            if (r0 == 0) goto L_0x0066
            r0 = r1
            X.1zS r0 = (X.C43171zS) r0
            boolean r0 = r0.A01
            if (r0 == 0) goto L_0x0062
            X.1qS r0 = r1.A02
            java.io.File r1 = r0.A06
            X.AnonymousClass00B.A06(r1)
            boolean r0 = r1.exists()
            X.AnonymousClass00B.A0G(r0)
            long r3 = r1.length()
        L_0x004c:
            r1 = 0
            int r0 = (r3 > r1 ? 1 : (r3 == r1 ? 0 : -1))
            if (r0 == 0) goto L_0x0057
        L_0x0052:
            r0 = 100
            long r6 = r6 * r0
            long r1 = r6 / r3
        L_0x0057:
            int r0 = (int) r1
            X.1XS r1 = r5.A0G
            java.lang.Integer r0 = java.lang.Integer.valueOf(r0)
            r1.A04(r0)
        L_0x0061:
            return
        L_0x0062:
            r3 = 65536(0x10000, double:3.2379E-319)
            goto L_0x0052
        L_0x0066:
            X.1qS r0 = r1.A02
            long r3 = r0.A02
            goto L_0x004c
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C31681er.A0A(long):void");
    }

    public final void A0B(Integer num) {
        C31761ez r6;
        if (this.A0i) {
            this.A0i = false;
            this.A0e.A03(this.A0d);
        }
        C31771f0 r5 = this.A0U;
        if (r5.A02.A0B) {
            C31761ez r4 = this.A0W;
            r4.A07(this.A0R.A00(AnonymousClass47Q.A00(r4.A03(), this.A0I.A00())));
        }
        if (num.intValue() == 18) {
            this.A0Q.A00();
        }
        if (this.A02.isCancelled()) {
            num = 1;
        }
        AnonymousClass1XS r1 = this.A0H;
        boolean z2 = this instanceof C43361zs;
        C31761ez r3 = this.A0W;
        synchronized (r3) {
            r6 = new C31761ez();
            r6.A00 = r3.A00;
            r6.A0I = r3.A0I;
            r6.A0K = r3.A0K;
            r6.A0L = r3.A0L;
            r6.A03 = r3.A03;
            r6.A04 = r3.A04;
            r6.A09 = r3.A09;
            r6.A08 = r3.A08;
            r6.A02 = r3.A02;
            r6.A0B = r3.A0B;
            r6.A07 = r3.A07;
            r6.A05 = r3.A05;
            r6.A0F = r3.A0F;
            r6.A0H = r3.A0H;
            r6.A0G = r3.A0G;
            r6.A0D = r3.A0D;
            r6.A0C = r3.A0C;
            r6.A0J = r3.A0J;
            r6.A01 = r3.A01;
            r6.A06 = r3.A06;
            r6.A0A = r3.A0A;
            r6.A0E = r3.A0E;
        }
        r1.A04(new AnonymousClass21B(r5, r6, this.A03, num.intValue(), this.A06, z2));
    }

    public final boolean A0C() {
        C38231qS r2 = this.A0U.A02;
        AnonymousClass1XK r1 = r2.A05;
        if (!C42591y4.A00(r1)) {
            return false;
        }
        if (r1 == AnonymousClass1XK.A0X || r1 == AnonymousClass1XK.A0a || r1 == AnonymousClass1XK.A0W) {
            return true;
        }
        int[] iArr = r2.A0E;
        return iArr != null && iArr.length > 0;
    }

    public void cancel() {
        if (this.A05.get() != null && (this instanceof C43361zs)) {
            AnonymousClass00B.A06(this.A02);
            this.A0f.Acl(new RunnableRunnableShape10S0100000_I0_9((Object) this, 38));
        }
        super.cancel();
    }
}
