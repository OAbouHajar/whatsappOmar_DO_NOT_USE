package X;

import android.app.Activity;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Point;
import android.graphics.Rect;
import android.graphics.RectF;
import android.net.Uri;
import android.os.SystemClock;
import android.text.Spanned;
import android.util.DisplayMetrics;
import android.view.View;
import android.view.ViewGroup;
import android.widget.FrameLayout;
import android.widget.ProgressBar;
import com.facebook.redex.IDxCListenerShape264S0100000_2_I1;
import com.obwhatsapp.R;
import com.obwhatsapp.TextEmojiLabel;
import com.obwhatsapp.webpagepreview.WebPagePreviewView;
import com.whatsapp.Mp4Ops;
import java.util.Iterator;
import java.util.List;
import java.util.Set;

/* renamed from: X.34v  reason: invalid class name and case insensitive filesystem */
public class C606734v extends C41841wk implements C41831wj {
    public int A00 = 3;
    public int A01;
    public int A02;
    public int A03;
    public DisplayMetrics A04;
    public View A05;
    public FrameLayout A06;
    public FrameLayout A07;
    public FrameLayout A08;
    public C85464Oo A09;
    public C46202Cw A0A;
    public C86094Re A0B;
    public AnonymousClass29D A0C;
    public C42171xL A0D;
    public Integer A0E;
    public Integer A0F;
    public String A0G;
    public String A0H;
    public boolean A0I = false;
    public boolean A0J = false;
    public boolean A0K = false;
    public boolean A0L = false;
    public boolean A0M = false;
    public final int A0N;
    public final Context A0O = A01();
    public final Rect A0P = AnonymousClass000.A0J();
    public final View A0Q;
    public final C19980zJ A0R;
    public final C16300so A0S;
    public final Mp4Ops A0T;
    public final C17130ua A0U;
    public final TextEmojiLabel A0V;
    public final C17230uk A0W;
    public final C16980tz A0X;
    public final C26081Mg A0Y;
    public final C14710pd A0Z;
    public final C16490t9 A0a;
    public final C24551Gj A0b;
    public final C30581cc A0c;
    public final AnonymousClass4WP A0d;
    public final C56872os A0e;
    public final C25791Ld A0f;
    public final C16320sq A0g;
    public final boolean A0h;
    public final boolean A0i;
    public final boolean A0j;

    /* JADX WARNING: Illegal instructions before constructor call */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public C606734v(X.C19980zJ r14, X.C16300so r15, X.C14870pt r16, X.C17090uW r17, com.whatsapp.Mp4Ops r18, X.C17130ua r19, X.C17230uk r20, X.AnonymousClass01V r21, X.C16980tz r22, X.AnonymousClass013 r23, X.C26081Mg r24, X.C14710pd r25, X.C16490t9 r26, X.C24551Gj r27, X.AnonymousClass1P8 r28, X.C16740tZ r29, X.AnonymousClass4Ta r30, X.C25791Ld r31, X.C16320sq r32) {
        /*
            r13 = this;
            r3 = r29
            r6 = r13
            r11 = r28
            r8 = r16
            r12 = r30
            r7 = r17
            r9 = r21
            r10 = r23
            r6.<init>(r7, r8, r9, r10, r11, r12)
            r0 = 3
            r13.A00 = r0
            r2 = 0
            r13.A0L = r2
            r13.A0M = r2
            r13.A0I = r2
            r13.A0K = r2
            r13.A0J = r2
            android.content.Context r0 = r13.A01()
            r13.A0O = r0
            android.graphics.Rect r0 = X.AnonymousClass000.A0J()
            r13.A0P = r0
            X.AnonymousClass00B.A06(r3)
            X.1cc r3 = (X.C30581cc) r3
            r13.A0c = r3
            r5 = r25
            r13.A0Z = r5
            r4 = r24
            r13.A0Y = r4
            r0 = r20
            r13.A0W = r0
            r0 = r32
            r13.A0g = r0
            r0 = r22
            r13.A0X = r0
            r0 = r26
            r13.A0a = r0
            r13.A0R = r14
            r0 = r18
            r13.A0T = r0
            r13.A0S = r15
            r0 = r19
            r13.A0U = r0
            r0 = r31
            r13.A0f = r0
            r0 = r27
            r13.A0b = r0
            r0 = 1877(0x755, float:2.63E-42)
            X.0tM r1 = X.C16620tM.A02
            boolean r0 = r5.A0E(r1, r0)
            r13.A0i = r0
            r0 = 2041(0x7f9, float:2.86E-42)
            boolean r0 = r5.A0E(r1, r0)
            r13.A0h = r0
            r0 = 2342(0x926, float:3.282E-42)
            boolean r0 = r5.A0E(r1, r0)
            r13.A0j = r0
            android.content.Context r0 = r13.A01()
            X.2os r1 = X.C56872os.A00(r0, r4, r3)
            r13.A0e = r1
            android.view.View r0 = r1.getChildAt(r2)
            r13.A0Q = r0
            r0 = 2131364705(0x7f0a0b61, float:1.8349255E38)
            com.obwhatsapp.TextEmojiLabel r0 = X.C13680ns.A0R(r1, r0)
            r13.A0V = r0
            X.4WP r0 = r1.A08
            r13.A0d = r0
            android.content.Context r0 = r13.A01()
            android.content.res.Resources r1 = r0.getResources()
            r0 = 2131167121(0x7f070791, float:1.7948507E38)
            int r0 = r1.getDimensionPixelSize(r0)
            r13.A0N = r0
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C606734v.<init>(X.0zJ, X.0so, X.0pt, X.0uW, com.whatsapp.Mp4Ops, X.0ua, X.0uk, X.01V, X.0tz, X.013, X.1Mg, X.0pd, X.0t9, X.1Gj, X.1P8, X.0tZ, X.4Ta, X.1Ld, X.0sq):void");
    }

    /*  JADX ERROR: JadxRuntimeException in pass: CodeShrinkVisitor
        jadx.core.utils.exceptions.JadxRuntimeException: Don't wrap MOVE or CONST insns: 0x0017: MOVE  (r8v0 int) = (r20v0 int)
        	at jadx.core.dex.instructions.args.InsnArg.wrapArg(InsnArg.java:164)
        	at jadx.core.dex.visitors.shrink.CodeShrinkVisitor.assignInline(CodeShrinkVisitor.java:133)
        	at jadx.core.dex.visitors.shrink.CodeShrinkVisitor.checkInline(CodeShrinkVisitor.java:118)
        	at jadx.core.dex.visitors.shrink.CodeShrinkVisitor.shrinkBlock(CodeShrinkVisitor.java:65)
        	at jadx.core.dex.visitors.shrink.CodeShrinkVisitor.shrinkMethod(CodeShrinkVisitor.java:43)
        	at jadx.core.dex.visitors.shrink.CodeShrinkVisitor.visit(CodeShrinkVisitor.java:35)
        */
    public static /* synthetic */ void A01(android.graphics.Bitmap r15, android.view.View r16, android.view.View r17, X.C606734v r18, com.obwhatsapp.webpagepreview.WebPagePreviewView r19, int r20, int r21, int r22, boolean r23) {
        /*
            r9 = r18
            android.view.View r0 = r9.A05
            if (r0 == 0) goto L_0x013b
            r0 = 10000(0x2710, double:4.9407E-320)
            r3 = 0
            r2 = 1
            r12 = r19
            if (r15 == 0) goto L_0x00a7
            int r4 = r9.A0N
            float r5 = (float) r4
            android.util.DisplayMetrics r4 = r9.A04
            float r4 = r4.density
            float r5 = r5 / r4
            int r4 = (int) r5
            r8 = r20
            if (r8 < r4) goto L_0x00a7
            android.content.Context r4 = r9.A01()     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.content.res.Resources r4 = r4.getResources()     // Catch:{ OutOfMemoryError -> 0x0126 }
            r7 = 2131167121(0x7f070791, float:1.7948507E38)
            int r13 = r4.getDimensionPixelSize(r7)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r4 = 2131362567(0x7f0a0307, float:1.8344918E38)
            X.C13690nt.A11(r12, r4)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r5 = 1068708659(0x3fb33333, float:1.4)
            float r4 = (float) r8     // Catch:{ OutOfMemoryError -> 0x0126 }
            float r4 = r4 * r5
            int r5 = (int) r4     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r6 = r13 * r21
            int r6 = r6 / r20
            android.view.View r4 = r9.A0Q     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r8 = r4.getHeight()     // Catch:{ OutOfMemoryError -> 0x0126 }
            com.obwhatsapp.TextEmojiLabel r4 = r9.A0V     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r4 = r4.getHeight()     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r8 = r8 - r4
            int r8 = r8 - r22
            int r4 = java.lang.Math.min(r6, r8)     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r14 = java.lang.Math.min(r5, r4)     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r8 = r14 + r22
            r12.setImagePlayFrameVisibility(r3)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r12.setImageProgressBarVisibility(r3)     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.view.View r4 = r9.A05     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.view.ViewGroup$LayoutParams r5 = r4.getLayoutParams()     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.content.Context r4 = r9.A01()     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.content.res.Resources r4 = r4.getResources()     // Catch:{ OutOfMemoryError -> 0x0126 }
            int r4 = r4.getDimensionPixelSize(r7)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r5.width = r4     // Catch:{ OutOfMemoryError -> 0x0126 }
            r5.height = r8     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.view.View r4 = r9.A05     // Catch:{ OutOfMemoryError -> 0x0126 }
            r4.setLayoutParams(r5)     // Catch:{ OutOfMemoryError -> 0x0126 }
            android.graphics.Bitmap r10 = android.graphics.Bitmap.createScaledBitmap(r15, r13, r6, r2)     // Catch:{ OutOfMemoryError -> 0x0126 }
            boolean r4 = r9.A0N()     // Catch:{ OutOfMemoryError -> 0x0126 }
            if (r4 == 0) goto L_0x009c
            boolean r4 = X.C15450qv.A02()     // Catch:{ OutOfMemoryError -> 0x0126 }
            if (r4 == 0) goto L_0x009c
            X.1cc r5 = r9.A0c     // Catch:{ OutOfMemoryError -> 0x0126 }
            r4 = 0
            X.1xL r11 = X.C42171xL.A00(r4, r5)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r9.A0K = r2     // Catch:{ OutOfMemoryError -> 0x0126 }
            r9.A0L = r3     // Catch:{ OutOfMemoryError -> 0x0126 }
            boolean r2 = r9.A0h     // Catch:{ OutOfMemoryError -> 0x0126 }
            if (r2 != 0) goto L_0x0097
            X.4WP r2 = r9.A0d     // Catch:{ OutOfMemoryError -> 0x0126 }
            r2.A00 = r0     // Catch:{ OutOfMemoryError -> 0x0126 }
        L_0x0097:
            r9.A0J(r10, r11, r12, r13, r14)     // Catch:{ OutOfMemoryError -> 0x0126 }
            goto L_0x0136
        L_0x009c:
            r12.A00()     // Catch:{ OutOfMemoryError -> 0x0126 }
            r12.A05(r13, r14)     // Catch:{ OutOfMemoryError -> 0x0126 }
            r12.setImageLargeThumbWithBitmap(r10)     // Catch:{ OutOfMemoryError -> 0x0126 }
            goto L_0x0136
        L_0x00a7:
            X.1cc r4 = r9.A0c
            java.lang.String r5 = r9.A0H
            r12.A09(r4, r5)
            r5 = 0
            X.1xL r5 = X.C42171xL.A00(r5, r4)
            r9.A0B()
            r9.A0K = r3
            android.view.View r7 = r9.A05
            android.content.Context r6 = r9.A01()
            X.C47622Js.A07(r6, r7)
            boolean r6 = r9.A0N()
            if (r6 == 0) goto L_0x0136
            boolean r6 = X.C15450qv.A02()
            if (r6 == 0) goto L_0x0136
            r9.A0L = r2
            r9.A0K = r2
            boolean r7 = r9.A0h
            X.4WP r6 = r9.A0d
            if (r7 == 0) goto L_0x00d9
            r0 = 30000(0x7530, double:1.4822E-319)
        L_0x00d9:
            r6.A00 = r0
            r12.setImagePlayFrameVisibility(r2)
            r12.setImageProgressBarVisibility(r2)
            android.widget.ProgressBar r0 = r12.A0F
            android.view.ViewPropertyAnimator r0 = r0.animate()
            r0.cancel()
            android.view.View r0 = r12.A04
            android.view.ViewPropertyAnimator r0 = r0.animate()
            r0.cancel()
            android.widget.ProgressBar r1 = r12.A0F
            r0 = 0
            r1.setAlpha(r0)
            android.view.View r1 = r12.A04
            r0 = 1065353216(0x3f800000, float:1.0)
            r1.setAlpha(r0)
            r0 = 2131366621(0x7f0a12dd, float:1.835314E38)
            android.widget.FrameLayout r0 = X.C13700nu.A08(r12, r0)
            r9.A08 = r0
            int r0 = r0.getWidth()
            r9.A02 = r0
            android.widget.FrameLayout r0 = r9.A08
            int r0 = r0.getHeight()
            r9.A01 = r0
            r9.A0D = r5
            X.4Re r0 = new X.4Re
            r0.<init>(r4, r12, r3, r2)
            r9.A0B = r0
            int r0 = r9.A00
            X.C46212Cy.A04(r12, r0, r2)
            goto L_0x0136
        L_0x0126:
            X.1cc r1 = r9.A0c
            java.lang.String r0 = r9.A0H
            r12.A09(r1, r0)
            android.view.View r1 = r9.A05
            android.content.Context r0 = r9.A01()
            X.C47622Js.A07(r0, r1)
        L_0x0136:
            android.view.View r0 = r9.A05
            r0.requestLayout()
        L_0x013b:
            android.view.View r0 = r9.A05
            if (r0 == 0) goto L_0x014c
            boolean r0 = r9.A0N()
            if (r0 == 0) goto L_0x014c
            boolean r0 = X.C15450qv.A02()
            r1 = 1
            if (r0 != 0) goto L_0x014d
        L_0x014c:
            r1 = 0
        L_0x014d:
            r0 = 1
            com.whatsapp.util.ViewOnClickCListenerShape1S0110000_I1 r2 = new com.whatsapp.util.ViewOnClickCListenerShape1S0110000_I1
            r3 = r23
            r2.<init>(r9, r0, r3)
            if (r1 != 0) goto L_0x0165
            r3 = r17
            r3.setOnClickListener(r2)
            r1 = 4
            com.facebook.redex.IDxTListenerShape63S0200000_2_I1 r0 = new com.facebook.redex.IDxTListenerShape63S0200000_2_I1
            r0.<init>(r3, r1, r9)
            r3.setOnTouchListener(r0)
        L_0x0165:
            r1 = r16
            r1.setOnClickListener(r2)
            r0 = 10
            X.C13700nu.A0S(r1, r9, r0)
            r9.A0F()
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C606734v.A01(android.graphics.Bitmap, android.view.View, android.view.View, X.34v, com.obwhatsapp.webpagepreview.WebPagePreviewView, int, int, int, boolean):void");
    }

    public long A08() {
        return this.A0d.A00;
    }

    public void A09() {
        AnonymousClass4WP r2 = this.A0d;
        r2.A01 = 0;
        r2.A02 = SystemClock.elapsedRealtime();
        A0E();
    }

    public void A0A() {
        this.A0d.A02();
        if (this.A0K) {
            A0B();
        }
    }

    public void A0B() {
        if (C15450qv.A02()) {
            this.A00 = 3;
            C86094Re r0 = this.A0B;
            if (r0 != null) {
                r0.A03((C28381Vw) null, 3);
            }
            C46202Cw r02 = this.A0A;
            if (r02 != null) {
                r02.A06();
            }
            if (this.A08 != null && this.A0C != null) {
                A0H(8);
                this.A0C.A09();
                this.A0C = null;
                this.A0I = false;
            }
        }
    }

    public final void A0C() {
        if (this.A0D != null) {
            String A0G2 = C13700nu.A0G(Uri.parse(this.A0c.A07).buildUpon().appendQueryParameter("wa_logging_event", "video_play_open"));
            int i2 = this.A0D.A01;
            C14870pt r5 = this.A01;
            C16320sq r9 = this.A0g;
            AnonymousClass013 r7 = this.A03;
            AnonymousClass1ZR r6 = new AnonymousClass1ZR(this.A0U, A0G2);
            if (i2 != 4) {
                AnonymousClass1ZR A002 = C87664Ya.A00(A0G2);
                C86094Re r1 = this.A0B;
                if (A002 != null) {
                    if (r1 != null) {
                        r1.A03((C28381Vw) null, 1);
                        this.A00 = 1;
                    }
                    A0L(A002.A0A, i2);
                    return;
                }
                if (r1 != null) {
                    r1.A03((C28381Vw) null, 1);
                    this.A00 = 1;
                }
                C51292bO.A00(r5, r6, r7, new C102584zC(this, i2), r9, A0G2, false);
            }
        }
    }

    public final void A0D() {
        Context context = this.A0O;
        if (context != null) {
            String str = this.A0G;
            C46212Cy.A02(context, this.A0R, this.A09, (AnonymousClass1ZP) null, C13680ns.A0Y(), str);
        }
    }

    public final void A0E() {
        this.A04 = AnonymousClass000.A0M(A01());
        TextEmojiLabel textEmojiLabel = this.A0V;
        boolean z2 = false;
        if (textEmojiLabel.getText().length() <= 350) {
            z2 = true;
        }
        CharSequence text = textEmojiLabel.getText();
        if (text instanceof Spanned) {
            C62643Ej[] r2 = (C62643Ej[]) ((Spanned) text).getSpans(0, text.length(), C62643Ej.class);
            int length = r2.length;
            if (length > 0) {
                this.A0F = 1;
                this.A0E = C13680ns.A0a();
            }
            if (C30921dB.A04(this.A0c) && z2 && length > 0) {
                textEmojiLabel.addOnLayoutChangeListener(new C62283Cv(this, r2));
                textEmojiLabel.requestLayout();
                return;
            }
        }
        A0F();
    }

    public final void A0F() {
        if (C15450qv.A02() && this.A0K && !this.A0I && this.A08 != null) {
            if (!this.A0L) {
                A0I(0);
            }
            if (!this.A0h || this.A0L) {
                C34331k5.A02(this.A08, this, 6);
            } else {
                A0C();
                return;
            }
        }
        this.A0d.A01();
        this.A05.A01();
        Context context = this.A0O;
        this.A03 = context == null ? 0 : C13700nu.A03(context).orientation;
    }

    public final void A0G() {
        Context context;
        if (!this.A0J) {
            Context context2 = this.A0O;
            if (!C19980zJ.A00(context2).isFinishing() && this.A0A != null) {
                AnonymousClass29D r0 = this.A0C;
                if (r0 != null) {
                    View A062 = r0.A06();
                    if (context2 != null) {
                        this.A06 = new FrameLayout(context2);
                        this.A07 = new FrameLayout(context2);
                        A0M(true);
                        A0K(this.A08);
                    }
                    if (!this.A0L) {
                        A0H(8);
                    }
                    FrameLayout frameLayout = this.A07;
                    if (frameLayout != null) {
                        frameLayout.addView(A062);
                        this.A07.addView(this.A0A);
                        C13680ns.A19(this.A07, this, 31);
                    }
                }
                if (!(this.A07 == null || this.A06 == null || this.A0A == null || context2 == null)) {
                    AnonymousClass29D r02 = this.A0C;
                    if (r02 != null) {
                        View A063 = r02.A06();
                        ViewGroup.LayoutParams layoutParams = A063.getLayoutParams();
                        layoutParams.height = -1;
                        layoutParams.width = -1;
                        A063.setLayoutParams(layoutParams);
                    }
                    if (C13700nu.A03(context2).orientation == 2 || this.A03 == 2) {
                        int color = context2.getResources().getColor(R.color.color0792);
                        int color2 = context2.getResources().getColor(R.color.color087c);
                        C46202Cw r03 = this.A0A;
                        List fullscreenControls = r03.getFullscreenControls();
                        List inlineControls = r03.getInlineControls();
                        A0K(this.A06);
                        this.A07.setLayoutParams(new FrameLayout.LayoutParams(-1, -1));
                        C46212Cy.A03(this.A06, fullscreenControls, inlineControls, color, color2, this.A0J);
                    } else {
                        this.A07.setScaleX(1.0f);
                        this.A07.setScaleY(1.0f);
                        FrameLayout frameLayout2 = this.A07;
                        FrameLayout frameLayout3 = this.A06;
                        boolean z2 = this.A0J;
                        if (this.A0A != null) {
                            frameLayout2.addOnLayoutChangeListener(new C62293Cw(frameLayout2, frameLayout3, this, z2));
                        }
                    }
                }
                this.A0J = true;
                this.A0A.A01();
            }
        } else if (this.A07 != null && this.A0A != null) {
            if (!(this.A0C == null || (context = this.A0O) == null)) {
                if (C13700nu.A03(context).orientation == 2 || this.A03 == 2) {
                    A0M(false);
                    A0H(0);
                    A04();
                } else {
                    int i2 = this.A01;
                    int i3 = this.A02;
                    AnonymousClass29D r04 = this.A0C;
                    if (r04 != null) {
                        View A064 = r04.A06();
                        ViewGroup.LayoutParams layoutParams2 = A064.getLayoutParams();
                        layoutParams2.height = i2;
                        layoutParams2.width = i3;
                        A064.setLayoutParams(layoutParams2);
                    }
                    if (!(this.A06 == null || this.A07 == null || this.A0A == null)) {
                        Rect A0J2 = AnonymousClass000.A0J();
                        Rect A0J3 = AnonymousClass000.A0J();
                        Point point = new Point();
                        this.A06.getGlobalVisibleRect(A0J2, point);
                        A0J2.offset(-point.x, -point.y);
                        A0J3.set(this.A0P);
                        C46212Cy.A01(context, A0J2, A0J3, this.A07, this.A06, this, (C55322jK) null, this.A0A, this.A0J, false);
                    }
                }
            }
            this.A0J = false;
            this.A0A.A02();
            this.A0A.setSystemUiVisibility(0);
            if (this.A0M) {
                A03();
            }
            if (!this.A0h || this.A0L) {
                A0B();
            }
            A05();
        }
    }

    public void A0H(int i2) {
        FrameLayout frameLayout;
        AnonymousClass29D r0 = this.A0C;
        if (r0 != null && (frameLayout = this.A08) != null) {
            View A062 = r0.A06();
            if (i2 == 8) {
                frameLayout.removeView(A062);
                this.A08.removeView(this.A0A);
            } else if (i2 == 0) {
                frameLayout.addView(A062);
                this.A08.addView(this.A0A);
                ViewGroup.LayoutParams layoutParams = A062.getLayoutParams();
                layoutParams.height = this.A01;
                layoutParams.width = this.A02;
                A062.setLayoutParams(layoutParams);
            }
        }
    }

    public final void A0I(int i2) {
        FrameLayout frameLayout = this.A08;
        if (frameLayout != null) {
            C13690nt.A14(C004601z.A0E(frameLayout, R.id.large_thumb), C004601z.A0E(this.A08, R.id.play_frame), C004601z.A0E(this.A08, R.id.logo_button), i2);
        }
    }

    public final void A0J(Bitmap bitmap, C42171xL r5, WebPagePreviewView webPagePreviewView, int i2, int i3) {
        FrameLayout A082 = C13700nu.A08(webPagePreviewView, R.id.large_thumb_frame);
        C46212Cy.A05(webPagePreviewView, r5);
        webPagePreviewView.A0A.getLayoutParams().width = i2;
        webPagePreviewView.A0A.getLayoutParams().height = i3;
        webPagePreviewView.A0A.requestLayout();
        webPagePreviewView.setVideoLargeThumbWithBitmap(bitmap);
        this.A08 = A082;
        this.A02 = i2;
        this.A01 = i3;
        this.A0D = r5;
        this.A0B = new C86094Re(this.A0c, webPagePreviewView, false, false);
        C46212Cy.A04(webPagePreviewView, this.A00, false);
    }

    public final void A0K(View view) {
        if (this.A08 != null && this.A07 != null) {
            int[] iArr = new int[2];
            view.getLocationOnScreen(iArr);
            this.A07.setX((float) iArr[0]);
            this.A07.setY((float) iArr[1]);
        }
    }

    public void A0L(C76703uY r21, int i2) {
        if (this.A0C == null) {
            Context context = this.A0O;
            if (!C19980zJ.A00(context).isFinishing()) {
                C76703uY r2 = r21;
                if (r21 == null) {
                    if (context != null) {
                        String str = this.A0G;
                        C46212Cy.A02(context, this.A0R, this.A09, (AnonymousClass1ZP) null, (Integer) null, str);
                    }
                } else if (this.A08 != null) {
                    String str2 = r2.A02;
                    C14870pt r8 = this.A01;
                    C16320sq r11 = this.A0g;
                    AnonymousClass01V r9 = this.A02;
                    AnonymousClass013 r10 = this.A03;
                    Activity A002 = C19980zJ.A00(context);
                    C16980tz r4 = this.A0X;
                    Mp4Ops mp4Ops = this.A0T;
                    this.A0C = new AnonymousClass29C(C19980zJ.A00(A002), Uri.parse(str2), r8, r9, r10, r11, new C79133zF(this.A0S, mp4Ops, r4, AnonymousClass3C1.A07(A002, A002.getString(R.string.str1bd4))), (AnonymousClass2PV) null);
                    C85464Oo r0 = new C85464Oo(this.A0a);
                    this.A09 = r0;
                    if (context != null) {
                        int i3 = i2;
                        C46202Cw r22 = new C46202Cw(context, r0, i3, false);
                        this.A0A = r22;
                        String str3 = this.A0c.A07;
                        AnonymousClass00B.A06(str3);
                        this.A0G = str3;
                        r22.A09(new IDxCListenerShape264S0100000_2_I1(this, 0), i3);
                        this.A0A.setFullscreenButtonClickListener(new IDxCListenerShape264S0100000_2_I1(this, 1));
                        this.A0A.setCloseButtonListener(new IDxCListenerShape264S0100000_2_I1(this, 1));
                        AnonymousClass29D r23 = this.A0C;
                        r23.A03 = new AnonymousClass3HL(this);
                        this.A0A.setPlayer(r23);
                        C46202Cw r6 = this.A0A;
                        r6.A0O = true;
                        r6.A0c.setVisibility(8);
                        ProgressBar progressBar = r6.A0v;
                        ViewGroup.MarginLayoutParams A0O2 = AnonymousClass000.A0O(progressBar);
                        A0O2.setMargins(0, 0, 0, r6.getResources().getDimensionPixelSize(R.dimen.dimen048d));
                        r6.A13.setVisibility(8);
                        r6.A0p.setVisibility(0);
                        r6.A0k.setVisibility(0);
                        progressBar.setLayoutParams(A0O2);
                        progressBar.requestLayout();
                        this.A0C.A08();
                    }
                }
            }
        }
    }

    public void A0M(boolean z2) {
        ViewGroup viewGroup;
        if (this.A07 != null && this.A06 != null && (viewGroup = (ViewGroup) C19980zJ.A00(A01()).findViewById(R.id.root_view)) != null) {
            FrameLayout frameLayout = this.A06;
            if (z2) {
                viewGroup.addView(frameLayout);
                this.A06.addView(this.A07);
                ViewGroup.LayoutParams layoutParams = this.A06.getLayoutParams();
                layoutParams.height = -1;
                layoutParams.width = -1;
                this.A06.setLayoutParams(layoutParams);
                ViewGroup.LayoutParams layoutParams2 = this.A07.getLayoutParams();
                layoutParams2.height = this.A01;
                layoutParams2.width = this.A02;
                this.A07.setLayoutParams(layoutParams2);
                return;
            }
            viewGroup.removeView(frameLayout);
            this.A07.removeAllViews();
            this.A07 = null;
            this.A06 = null;
        }
    }

    public final boolean A0N() {
        C42171xL A002 = C42171xL.A00((C14710pd) null, this.A0c);
        return this.A0i && A002.A04 && A002.A01 != 4 && C15450qv.A02();
    }

    public boolean A0O(float f2, float f3, boolean z2) {
        CharSequence text = this.A0V.getText();
        if (text instanceof Spanned) {
            Spanned spanned = (Spanned) text;
            for (C62643Ej r2 : (C62643Ej[]) spanned.getSpans(0, spanned.length(), C62643Ej.class)) {
                Iterator it = r2.A06.iterator();
                while (it.hasNext()) {
                    if (((RectF) it.next()).contains(f2, f3)) {
                        if (z2) {
                            String str = r2.A05;
                            String A002 = C812247i.A00(str);
                            C26081Mg r22 = this.A0Y;
                            C30581cc r1 = this.A0c;
                            Set A003 = r22.A00(r1.A0B(), r1, str);
                            this.A0E = 1;
                            A04();
                            C31021dL.A01(A01(), this.A00, this, str, r1.A11.A01, A003, A002.contains("…"));
                        }
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public void AOd() {
        this.A0E = C13680ns.A0Z();
    }

    public void APi() {
        A05();
    }
}
